
配置编辑器

特性
	动态增删列，
	自动类型识别(Gen)，
	支持容器(编辑时只有list，根据配置生成时可能是Map)，
	数据即时验证(只提示，允许保存错误数据),
	自动完成，

说明
	每一行被识别看成一个Bean，每一列看成一个变量。
	特殊列 ','	：Bean结束符，不能编辑。鼠标双击或者选中回车时增加新的列。
	特殊列 '[...'	：容器(List)的开始，不能编辑。
	特殊列 ']...'	：容器(List)的结束，不能编辑。鼠标双击或者选中回车时增加list中的Item。
	                  注意新增的Item如果没有填写数据不会被保存。

Test
	define 编辑基本完工。
	数据即时验证基本完工（已有的，在define里面双击属性列设置）。	

	* NEW 变量(数据列)顺序允许调整。操作：在Defne窗口中的行首上拖放（只能拖动变量行）。
	* NEW 基本类型验证加入了。
	* NEW foreign 校验加入了。
	* NEW 变量改名。会更新Foreign和数据。涉及全局搜索，大量配置时，可能很慢。

	* BUG 保存了FormError的窗口位置。但是有时会变成初始化的位置。
	* BUG 嵌套list问题：define中addVar时创建两个item，出现过一次，后来没有发现（看错了？多测试）。

	* CHANGE 为了支持循环引用Bean。list变量在没有数据的时候不会显示一个默认的Item，需要双击']'列手动添加。
	  当然AddVar时为了方便会加入一个默认Item。但是如果没有输入数据，关闭再打开就需要手动增加了。

	* CHANGE 增加变量（列）的编辑窗口修改：list类型引用Bean改成ComboBox。目前仅包含当前打开文件里面定义的。

	* NEW 菜单 Config。
	* NEW 菜单 Build 可以用了，现在把数据导出；detect；生成cs代码. 
	* Property.Id Property.idlist 在 Build 时建立 Map 索引。

	2021/1/4
	* NEW Build 加入错误检查。如果有错误，中断执行。
	* BUG FormError 在根据 Grid 删除错误时没有恢复 Cell 的状态。

	2021/1/5
	* NEW Add Date Type
	* NEW ts gen 数据生成在代码中。

性能
	* 几千行看看会怎么样。

TODO
	enum
	    1 当把列从其他类型改成enum时，把现有的输入内容当作枚举的值，并弹出define窗口编辑enum名字。然后cell里面显示enumname=value
	    2 当把enum改成其他类型时，cell显示value。
	    3 不允许在编辑配置的时候动态加入enum-value，只能在define里面增加？
	    4 编辑数据的时候，只能从现有的定义中选择。

	lua gen
	自动完成和enum识别。
	1 id存一个种子自动递增，或者从上一行的id往后找一个未用的。
	2 普通的列默认最近使用的n个值，根据输入在列中查找最匹配的。
	Bean改名。需要搜索引用。麻烦。
	SaveAs

问题
	* 不要在编辑工具外部直接改名。文件改名（改路径），怎么更新相关引用？扫描所有的配置文件？
	* VarComment 先支持单行注释。多行再考虑。
	* 变量改名需要搜索全部配置，不大好优化。使用时注意。
