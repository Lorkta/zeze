/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={595:e=>{e.exports=i;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function i(e,t,i){this.low=0|e,this.high=0|t,this.unsigned=!!i}function s(e){return!0===(e&&e.__isLong__)}i.prototype.__isLong__,Object.defineProperty(i.prototype,"__isLong__",{value:!0}),i.isLong=s;var r={},n={};function h(e,t){var i,s,h;return t?(h=0<=(e>>>=0)&&e<256)&&(s=n[e])?s:(i=a(e,(0|e)<0?-1:0,!0),h&&(n[e]=i),i):(h=-128<=(e|=0)&&e<128)&&(s=r[e])?s:(i=a(e,e<0?-1:0,!1),h&&(r[e]=i),i)}function d(e,t){if(isNaN(e))return t?B:f;if(t){if(e<0)return B;if(e>=x)return S}else{if(e<=-R)return c;if(e+1>=R)return E}return e<0?d(-e,t).neg():a(e%g|0,e/g|0,t)}function a(e,t,s){return new i(e,t,s)}i.fromInt=h,i.fromNumber=d,i.fromBits=a;var o=Math.pow;function u(e,t,i){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return f;if("number"==typeof t?(i=t,t=!1):t=!!t,(i=i||10)<2||36<i)throw RangeError("radix");var s;if((s=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===s)return u(e.substring(1),t,i).neg();for(var r=d(o(i,8)),n=f,h=0;h<e.length;h+=8){var a=Math.min(8,e.length-h),I=parseInt(e.substring(h,h+a),i);if(a<8){var g=d(o(i,a));n=n.mul(g).add(d(I))}else n=(n=n.mul(r)).add(d(I))}return n.unsigned=t,n}function I(e,t){return"number"==typeof e?d(e,t):"string"==typeof e?u(e,t):a(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}i.fromString=u,i.fromValue=I;var g=4294967296,x=g*g,R=x/2,W=h(1<<24),f=h(0);i.ZERO=f;var B=h(0,!0);i.UZERO=B;var y=h(1);i.ONE=y;var l=h(1,!0);i.UONE=l;var w=h(-1);i.NEG_ONE=w;var E=a(-1,2147483647,!1);i.MAX_VALUE=E;var S=a(-1,-1,!0);i.MAX_UNSIGNED_VALUE=S;var c=a(0,-2147483648,!1);i.MIN_VALUE=c;var v=i.prototype;v.toInt=function(){return this.unsigned?this.low>>>0:this.low},v.toNumber=function(){return this.unsigned?(this.high>>>0)*g+(this.low>>>0):this.high*g+(this.low>>>0)},v.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(c)){var t=d(e),i=this.div(t),s=i.mul(t).sub(this);return i.toString(e)+s.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=d(o(e,6),this.unsigned),n=this,h="";;){var a=n.div(r),u=(n.sub(a.mul(r)).toInt()>>>0).toString(e);if((n=a).isZero())return u+h;for(;u.length<6;)u="0"+u;h=""+u+h}},v.getHighBits=function(){return this.high},v.getHighBitsUnsigned=function(){return this.high>>>0},v.getLowBits=function(){return this.low},v.getLowBitsUnsigned=function(){return this.low>>>0},v.getNumBitsAbs=function(){if(this.isNegative())return this.eq(c)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},v.isZero=function(){return 0===this.high&&0===this.low},v.eqz=v.isZero,v.isNegative=function(){return!this.unsigned&&this.high<0},v.isPositive=function(){return this.unsigned||this.high>=0},v.isOdd=function(){return 1==(1&this.low)},v.isEven=function(){return 0==(1&this.low)},v.equals=function(e){return s(e)||(e=I(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},v.eq=v.equals,v.notEquals=function(e){return!this.eq(e)},v.neq=v.notEquals,v.ne=v.notEquals,v.lessThan=function(e){return this.comp(e)<0},v.lt=v.lessThan,v.lessThanOrEqual=function(e){return this.comp(e)<=0},v.lte=v.lessThanOrEqual,v.le=v.lessThanOrEqual,v.greaterThan=function(e){return this.comp(e)>0},v.gt=v.greaterThan,v.greaterThanOrEqual=function(e){return this.comp(e)>=0},v.gte=v.greaterThanOrEqual,v.ge=v.greaterThanOrEqual,v.compare=function(e){if(s(e)||(e=I(e)),this.eq(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},v.comp=v.compare,v.negate=function(){return!this.unsigned&&this.eq(c)?c:this.not().add(y)},v.neg=v.negate,v.add=function(e){s(e)||(e=I(e));var t=this.high>>>16,i=65535&this.high,r=this.low>>>16,n=65535&this.low,h=e.high>>>16,d=65535&e.high,o=e.low>>>16,u=0,g=0,x=0,R=0;return x+=(R+=n+(65535&e.low))>>>16,g+=(x+=r+o)>>>16,u+=(g+=i+d)>>>16,u+=t+h,a((x&=65535)<<16|(R&=65535),(u&=65535)<<16|(g&=65535),this.unsigned)},v.subtract=function(e){return s(e)||(e=I(e)),this.add(e.neg())},v.sub=v.subtract,v.multiply=function(e){if(this.isZero())return f;if(s(e)||(e=I(e)),t)return a(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return f;if(this.eq(c))return e.isOdd()?c:f;if(e.eq(c))return this.isOdd()?c:f;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(W)&&e.lt(W))return d(this.toNumber()*e.toNumber(),this.unsigned);var i=this.high>>>16,r=65535&this.high,n=this.low>>>16,h=65535&this.low,o=e.high>>>16,u=65535&e.high,g=e.low>>>16,x=65535&e.low,R=0,B=0,y=0,l=0;return y+=(l+=h*x)>>>16,B+=(y+=n*x)>>>16,y&=65535,B+=(y+=h*g)>>>16,R+=(B+=r*x)>>>16,B&=65535,R+=(B+=n*g)>>>16,B&=65535,R+=(B+=h*u)>>>16,R+=i*x+r*g+n*u+h*o,a((y&=65535)<<16|(l&=65535),(R&=65535)<<16|(B&=65535),this.unsigned)},v.mul=v.multiply,v.divide=function(e){if(s(e)||(e=I(e)),e.isZero())throw Error("division by zero");var i,r,n;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?a((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?B:f;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return B;if(e.gt(this.shru(1)))return l;n=B}else{if(this.eq(c))return e.eq(y)||e.eq(w)?c:e.eq(c)?y:(i=this.shr(1).div(e).shl(1)).eq(f)?e.isNegative()?y:w:(r=this.sub(e.mul(i)),n=i.add(r.div(e)));if(e.eq(c))return this.unsigned?B:f;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();n=f}for(r=this;r.gte(e);){i=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var h=Math.ceil(Math.log(i)/Math.LN2),u=h<=48?1:o(2,h-48),g=d(i),x=g.mul(e);x.isNegative()||x.gt(r);)x=(g=d(i-=u,this.unsigned)).mul(e);g.isZero()&&(g=y),n=n.add(g),r=r.sub(x)}return n},v.div=v.divide,v.modulo=function(e){return s(e)||(e=I(e)),t?a((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},v.mod=v.modulo,v.rem=v.modulo,v.not=function(){return a(~this.low,~this.high,this.unsigned)},v.and=function(e){return s(e)||(e=I(e)),a(this.low&e.low,this.high&e.high,this.unsigned)},v.or=function(e){return s(e)||(e=I(e)),a(this.low|e.low,this.high|e.high,this.unsigned)},v.xor=function(e){return s(e)||(e=I(e)),a(this.low^e.low,this.high^e.high,this.unsigned)},v.shiftLeft=function(e){return s(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):a(0,this.low<<e-32,this.unsigned)},v.shl=v.shiftLeft,v.shiftRight=function(e){return s(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):a(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},v.shr=v.shiftRight,v.shiftRightUnsigned=function(e){return s(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?a(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):a(32===e?this.high:this.high>>>e-32,0,this.unsigned)},v.shru=v.shiftRightUnsigned,v.shr_u=v.shiftRightUnsigned,v.rotateLeft=function(e){var t;return s(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?a(this.high,this.low,this.unsigned):e<32?(t=32-e,a(this.low<<e|this.high>>>t,this.high<<e|this.low>>>t,this.unsigned)):(t=32-(e-=32),a(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},v.rotl=v.rotateLeft,v.rotateRight=function(e){var t;return s(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?a(this.high,this.low,this.unsigned):e<32?(t=32-e,a(this.high<<t|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned)):(t=32-(e-=32),a(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},v.rotr=v.rotateRight,v.toSigned=function(){return this.unsigned?a(this.low,this.high,!1):this},v.toUnsigned=function(){return this.unsigned?this:a(this.low,this.high,!0)},v.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},v.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},v.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},i.fromBytes=function(e,t,s){return s?i.fromBytesLE(e,t):i.fromBytesBE(e,t)},i.fromBytesLE=function(e,t){return new i(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},i.fromBytesBE=function(e,t){return new i(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}}},t={};function i(s){if(t[s])return t[s].exports;var r=t[s]={exports:{}};return e[s](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e,t=i(595),s=i.n(t);function r(e,t){if(!e)throw new Error(t)}!function(e){class t{constructor(e=null){this.Bytes=null==e?new Uint8Array(1024):e,this.View=new DataView(this.Bytes.buffer),this.ReadIndex=0,this.WriteIndex=0}Capacity(){return this.Bytes.byteLength}Size(){return this.WriteIndex-this.ReadIndex}ToPower2(e){for(var t=1024;t<e;)t<<=1;return t}BlockCopy(e,t,i,s,r){for(var n=0;n<r;++n)i[n+s]=e[n+t]}EnsureWrite(e){var t=this.WriteIndex+e;if(t>this.Capacity()){var i=new Uint8Array(this.ToPower2(t));this.WriteIndex-=this.ReadIndex,this.BlockCopy(this.Bytes,this.ReadIndex,i,0,this.WriteIndex),this.ReadIndex=0,this.Bytes=i,this.View=new DataView(this.Bytes.buffer)}}Append(e,t,i){this.EnsureWrite(i),this.BlockCopy(e,t,this.Bytes,this.WriteIndex,i),this.WriteIndex+=i}Replace(e,t,i,s){if(e<this.ReadIndex||e+s>this.WriteIndex)throw new Error;this.BlockCopy(t,i,this.Bytes,e,s)}BeginWriteWithSize4(){var e=this.WriteIndex;return this.EnsureWrite(4),this.WriteIndex+=4,e}EndWriteWithSize4(e){this.View.setInt32(e,this.WriteIndex-e-4,!0)}BeginWriteSegment(){var e=this.Size();return this.EnsureWrite(1),this.WriteIndex+=1,e}EndWriteSegment(e){var t=this.ReadIndex+e,i=this.WriteIndex-t-1;if(i<128)this.Bytes[t]=i;else if(i<16384)this.EnsureWrite(1),this.Bytes[this.WriteIndex]=this.Bytes[t+1],this.Bytes[t+1]=i,this.Bytes[t]=i>>8|128,this.WriteIndex+=1;else if(i<2097152)this.EnsureWrite(2),this.Bytes[this.WriteIndex+1]=this.Bytes[t+2],this.Bytes[t+2]=i,this.Bytes[this.WriteIndex]=this.Bytes[t+1],this.Bytes[t+1]=i>>8,this.Bytes[t]=i>>16|192,this.WriteIndex+=2;else{if(!(i<268435456))throw new Error("exceed max segment size");this.EnsureWrite(3),this.Bytes[this.WriteIndex+2]=this.Bytes[t+3],this.Bytes[t+3]=i,this.Bytes[this.WriteIndex+1]=this.Bytes[t+2],this.Bytes[t+2]=i>>8,this.Bytes[this.WriteIndex]=this.Bytes[t+1],this.Bytes[t+1]=i>>16,this.Bytes[t]=i>>24|224,this.WriteIndex+=3}}EnsureRead(e){if(this.ReadIndex+e>this.WriteIndex)throw new Error("EnsureRead "+e)}ReadSegment(){this.EnsureRead(1);var e=this.Bytes[this.ReadIndex++],t=this.ReadIndex,i=0;if(e<128)i=e,this.ReadIndex+=i;else if(e<192){this.EnsureRead(1),i=(63&e)<<8|this.Bytes[this.ReadIndex];var s=this.ReadIndex+i;this.Bytes[this.ReadIndex]=this.Bytes[s],this.ReadIndex+=i+1}else if(e<224)this.EnsureRead(2),i=(31&e)<<16|this.Bytes[this.ReadIndex]<<8|this.Bytes[this.ReadIndex+1],s=this.ReadIndex+i,this.Bytes[this.ReadIndex]=this.Bytes[s],this.Bytes[this.ReadIndex+1]=this.Bytes[s+1],this.ReadIndex+=i+2;else{if(!(e<240))throw new Error("exceed max size");this.EnsureRead(3),i=(15&e)<<24|this.Bytes[this.ReadIndex]<<16|this.Bytes[this.ReadIndex+1]<<8|this.Bytes[this.ReadIndex+2],s=this.ReadIndex+i,this.Bytes[this.ReadIndex]=this.Bytes[s],this.Bytes[this.ReadIndex+1]=this.Bytes[s+1],this.Bytes[this.ReadIndex+2]=this.Bytes[s+2],this.ReadIndex+=i+3}if(this.ReadIndex>this.WriteIndex)throw new Error("segment data not enough");return{startIndex:t,segmentSize:i}}BeginReadSegment(){const{startIndex:e,segmentSize:t}=this.ReadSegment();var i=this.ReadIndex;return this.ReadIndex=e,i}EndReadSegment(e){this.ReadIndex=e}Campact(){var e=this.Size();e>0?this.ReadIndex>0&&(this.BlockCopy(this.Bytes,this.ReadIndex,this.Bytes,0,e),this.ReadIndex=0,this.WriteIndex=e):this.Reset()}Reset(){this.ReadIndex=0,this.WriteIndex=0}WriteBool(e){this.EnsureWrite(1),this.Bytes[this.WriteIndex++]=e?1:0}ReadBool(){return this.EnsureRead(1),0!=this.Bytes[this.ReadIndex++]}WriteByte(e){this.EnsureWrite(1),this.Bytes[this.WriteIndex++]=e}ReadByte(){return this.EnsureRead(1),this.Bytes[this.ReadIndex++]}WriteShort(e){if(e>=0){if(e<128)return this.EnsureWrite(1),void(this.Bytes[this.WriteIndex++]=e);if(e<16384)return this.EnsureWrite(2),this.Bytes[this.WriteIndex+1]=e,this.Bytes[this.WriteIndex]=e>>8|128,void(this.WriteIndex+=2)}this.EnsureWrite(3),this.Bytes[this.WriteIndex]=255,this.View.setInt16(this.WriteIndex+1,e,!1),this.WriteIndex+=3}ReadShort(){this.EnsureRead(1);var e=this.Bytes[this.ReadIndex];if(e<128)return this.ReadIndex++,e;if(e<192){this.EnsureRead(2);var t=(63&e)<<8|this.Bytes[this.ReadIndex+1];return this.ReadIndex+=2,t}if(255==e)return this.EnsureRead(3),t=this.View.getInt16(this.ReadIndex+1,!1),this.ReadIndex+=3,t;throw new Error}WriteInt4(e){this.EnsureWrite(4),this.View.setInt32(this.WriteIndex,e,!0),this.WriteIndex+=4}ReadInt4(){this.EnsureRead(4);var e=this.View.getInt32(this.ReadIndex,!0);return this.ReadIndex+=4,e}WriteLong8(e){this.EnsureWrite(8),this.View.setUint32(this.WriteIndex,e.low,!0),this.View.setUint32(this.WriteIndex+4,e.high,!0),this.WriteIndex+=8}ReadLong8(){this.EnsureRead(8);var e=this.View.getUint32(this.ReadIndex,!0),t=this.View.getUint32(this.ReadIndex+4,!0);return this.ReadIndex+=8,new(s())(e,t,!0)}WriteInt(e){if(e>=0){if(e<128)return this.EnsureWrite(1),void(this.Bytes[this.WriteIndex++]=e);if(e<16384)return this.EnsureWrite(2),this.Bytes[this.WriteIndex+1]=e,this.Bytes[this.WriteIndex]=e>>8|128,void(this.WriteIndex+=2);if(e<2097152)return this.EnsureWrite(3),this.Bytes[this.WriteIndex+2]=e,this.Bytes[this.WriteIndex+1]=e>>8,this.Bytes[this.WriteIndex]=e>>16|192,void(this.WriteIndex+=3);if(e<268435456)return this.EnsureWrite(4),this.Bytes[this.WriteIndex+3]=e,this.Bytes[this.WriteIndex+2]=e>>8,this.Bytes[this.WriteIndex+1]=e>>16,this.Bytes[this.WriteIndex]=e>>24|224,void(this.WriteIndex+=4)}this.EnsureWrite(5),this.Bytes[this.WriteIndex]=240,this.View.setInt32(this.WriteIndex+1,e,!1),this.WriteIndex+=5}ReadInt(){this.EnsureRead(1);var e=this.Bytes[this.ReadIndex];if(e<128)return this.ReadIndex++,e;if(e<192){this.EnsureRead(2);var t=(63&e)<<8|this.Bytes[this.ReadIndex+1];return this.ReadIndex+=2,t}return e<224?(this.EnsureRead(3),t=(31&e)<<16|this.Bytes[this.ReadIndex+1]<<8|this.Bytes[this.ReadIndex+2],this.ReadIndex+=3,t):e<240?(this.EnsureRead(4),t=(15&e)<<24|this.Bytes[this.ReadIndex+1]<<16|this.Bytes[this.ReadIndex+2]<<8|this.Bytes[this.ReadIndex+3],this.ReadIndex+=4,t):(this.EnsureRead(5),t=this.View.getInt32(this.ReadIndex+1,!1),this.ReadIndex+=5,t)}WriteLong(e){this.WriteUlong(e)}ReadLong(){return this.ReadUlong()}WriteUlong(e){if(0==e.high&&e.low>=0){if(e.low<128)return this.EnsureWrite(1),void(this.Bytes[this.WriteIndex++]=e.low);if(e.low<16384)return this.EnsureWrite(2),this.Bytes[this.WriteIndex+1]=e.low,this.Bytes[this.WriteIndex]=e.low>>8|128,void(this.WriteIndex+=2);if(e.low<2097152)return this.EnsureWrite(3),this.Bytes[this.WriteIndex+2]=e.low,this.Bytes[this.WriteIndex+1]=e.low>>8,this.Bytes[this.WriteIndex]=e.low>>16|192,void(this.WriteIndex+=3);if(e.low<268435456)return this.EnsureWrite(4),this.Bytes[this.WriteIndex+3]=e.low,this.Bytes[this.WriteIndex+2]=e.low>>8,this.Bytes[this.WriteIndex+1]=e.low>>16,this.Bytes[this.WriteIndex]=e.low>>24|224,void(this.WriteIndex+=4)}if(e.high>=0){if(e.high<8)return this.EnsureWrite(5),this.View.setUint32(this.WriteIndex+1,e.low,!1),this.Bytes[this.WriteIndex]=240|e.high,void(this.WriteIndex+=5);if(e.high<1024)return this.EnsureWrite(6),this.View.setUint32(this.WriteIndex+2,e.low,!1),this.Bytes[this.WriteIndex+1]=255&e.high,this.Bytes[this.WriteIndex]=e.high>>8|248,void(this.WriteIndex+=6);if(e.high<8192)return this.EnsureWrite(7),this.View.setUint32(this.WriteIndex+3,e.low,!1),this.Bytes[this.WriteIndex+2]=255&e.high,this.Bytes[this.WriteIndex+1]=e.high>>8,this.Bytes[this.WriteIndex]=e.high>>16|252,void(this.WriteIndex+=7);if(e.high<16777216)return this.EnsureWrite(8),this.View.setUint32(this.WriteIndex+4,e.low,!1),this.Bytes[this.WriteIndex+3]=255&e.high,this.Bytes[this.WriteIndex+2]=e.high>>8,this.Bytes[this.WriteIndex+1]=e.high>>16,this.Bytes[this.WriteIndex]=254,void(this.WriteIndex+=8)}this.EnsureWrite(9),this.View.setUint32(this.WriteIndex+5,e.low,!1),this.View.setUint32(this.WriteIndex+1,e.high,!1),this.Bytes[this.WriteIndex]=255,this.WriteIndex+=9}ReadUlong(){this.EnsureRead(1);var e=this.Bytes[this.ReadIndex];if(e<128)return this.ReadIndex++,e;if(e<192){this.EnsureRead(2);var t=(63&e)<<8|this.Bytes[this.ReadIndex+1];return this.ReadIndex+=2,new(s())(t,0,!0)}if(e<224)return this.EnsureRead(3),t=(31&e)<<16|this.Bytes[this.ReadIndex+1]<<8|this.Bytes[this.ReadIndex+2],this.ReadIndex+=3,new(s())(t,0,!0);if(e<240)return this.EnsureRead(4),t=(15&e)<<24|this.Bytes[this.ReadIndex+1]<<16|this.Bytes[this.ReadIndex+2]<<8|this.Bytes[this.ReadIndex+3],this.ReadIndex+=4,new(s())(t,0,!0);if(e<248){this.EnsureRead(5);var i=this.View.getUint32(this.ReadIndex+1,!1),r=7&e;return this.ReadIndex+=5,new(s())(i,r,!0)}return e<252?(this.EnsureRead(6),i=this.View.getUint32(this.ReadIndex+2,!1),r=(3&e)<<8|this.Bytes[this.ReadIndex+1],this.ReadIndex+=6,new(s())(i,r,!0)):e<254?(this.EnsureRead(7),i=this.View.getUint32(this.ReadIndex+3,!1),r=(1&e)<<16|this.Bytes[this.ReadIndex+1]<<8|this.Bytes[this.ReadIndex+2],this.ReadIndex+=7,new(s())(i,r,!0)):e<255?(this.EnsureRead(8),i=this.View.getUint32(this.ReadIndex+4,!1),r=this.Bytes[this.ReadIndex+1]<<16|this.Bytes[this.ReadIndex+2]<<8|this.Bytes[this.ReadIndex+3],this.ReadIndex+=8,new(s())(i,r,!0)):(this.EnsureRead(9),i=this.View.getUint32(this.ReadIndex+5,!1),r=this.View.getUint32(this.ReadIndex+1,!1),this.ReadIndex+=9,new(s())(i,r,!0))}WriteFloat(e){this.EnsureWrite(4),this.View.setFloat32(this.WriteIndex,e,!0),this.WriteIndex+=4}ReadFloat(){this.EnsureRead(4);var e=this.View.getFloat32(this.ReadIndex,!0);return this.ReadIndex+=4,e}WriteDouble(e){this.EnsureWrite(8),this.View.setFloat64(this.WriteIndex,e,!0),this.WriteIndex+=8}ReadDouble(){this.EnsureRead(8);var e=this.View.getFloat64(this.ReadIndex,!0);return this.ReadIndex+=8,e}WriteString(e){var i=t.Encoder.encode(e);this.WriteBytes(i,0,i.length)}ReadString(){return t.Decoder.decode(this.ReadBytes())}WriteBytes(e,t=0,i=-1){-1==i&&(i=e.byteLength),this.WriteInt(i),this.EnsureWrite(i),this.BlockCopy(e,t,this.Bytes,this.WriteIndex,i),this.WriteIndex+=i}ReadBytes(){var e=this.ReadInt();this.EnsureRead(e);var t=new Uint8Array(e);return this.BlockCopy(this.Bytes,this.ReadIndex,t,0,e),this.ReadIndex+=e,t}SkipBytes(){var e=this.ReadInt();this.EnsureRead(e),this.ReadIndex+=e}Equals(e){if(null==e)return!1;if(this.Size!=e.Size)return!1;for(var t=this.Size(),i=0;i<t;i++)if(this.Bytes[this.ReadIndex+i]!=e.Bytes[e.ReadIndex+i])return!1;return!0}static toHex(e){var t=15&e,i=e>>4&15;return this.HEX[i]+this.HEX[t]}static toString(e,i=0,s=-1){var r="",n=!0;-1==s&&(s=e.byteLength);for(var h=i;h<s;++h)n?n=!1:r=r.concat("-"),r=r.concat(t.toHex(e[h]));return r}toString(){return t.toString(this.Bytes,this.ReadIndex,this.WriteIndex)}static SkipUnknownField(e,i){switch(e&t.TAG_MASK){case t.BOOL:i.ReadBool();break;case t.BYTE:i.ReadByte();break;case t.SHORT:i.ReadShort();break;case t.INT:i.ReadInt();break;case t.LONG:i.ReadLong();break;case t.FLOAT:i.ReadFloat();break;case t.DOUBLE:i.ReadDouble();break;case t.STRING:case t.BYTES:case t.LIST:case t.SET:case t.MAP:case t.BEAN:i.SkipBytes();break;case t.DYNAMIC:i.ReadLong8(),i.SkipBytes();break;default:throw new Error("SkipUnknownField")}}}t.Encoder=new TextEncoder,t.Decoder=new TextDecoder,t.HEX="0123456789ABCDEF",t.INT=0,t.LONG=1,t.STRING=2,t.BOOL=3,t.BYTE=4,t.SHORT=5,t.FLOAT=6,t.DOUBLE=7,t.BYTES=8,t.LIST=9,t.SET=10,t.MAP=11,t.BEAN=12,t.DYNAMIC=13,t.TAG_MAX=31,t.TAG_SHIFT=5,t.TAG_MASK=(1<<t.TAG_SHIFT)-1,t.ID_MASK=(1<<31-t.TAG_SHIFT)-1,e.ByteBuffer=t}(e||(e={})),window.globalThis.test=function(t){var i=new e.ByteBuffer,n=new Uint8Array(0);i.WriteBytes(n),r(1==i.Size(),"assert 1"),r("00"==i.toString(),"assert 2"),r(e.ByteBuffer.toString(n)==e.ByteBuffer.toString(i.ReadBytes()),"assert 3"),r(i.ReadIndex==i.WriteIndex,"assert 4"),(n=new Uint8Array(2))[0]=1,n[1]=2,i.WriteBytes(n),r(3==i.Size(),"assert 5"),r("02-01-02"==i.toString(),"assert 6"),r(e.ByteBuffer.toString(n)==e.ByteBuffer.toString(i.ReadBytes()),"assert 7"),r(i.ReadIndex==i.WriteIndex,"assert 8"),r((i=new e.ByteBuffer).ReadIndex==i.WriteIndex,"assert 9"),i.WriteBool(!0),r(1==i.Size(),"assert 10"),r(1==i.Bytes[i.ReadIndex],"assert 11"),r(1==i.ReadBool(),"assert 12"),r(i.ReadIndex==i.WriteIndex,"assert 13"),i.WriteByte(1),r(1==i.Size(),"assert 14"),r(1==i.Bytes[i.ReadIndex],"assert 15"),r(1==i.ReadByte(),"assert 16"),r(i.ReadIndex==i.WriteIndex,"assert 17"),i.WriteDouble(1.1),r(8==i.Size(),"assert 18"),r("9A-99-99-99-99-99-F1-3F"==i.toString(),"assert 19"),r(1.1==i.ReadDouble(),"assert 20"),r(i.ReadIndex==i.WriteIndex,"assert 21"),i.WriteFloat(1.1),r(4==i.Size(),"assert 22"),r("CD-CC-8C-3F"==i.toString(),"assert 23"),r(Math.abs(1.1-i.ReadFloat())<1e-5,"assert 24"),r(i.ReadIndex==i.WriteIndex,"assert 25"),r((i=new e.ByteBuffer).ReadIndex==i.WriteIndex,"assert 26");var h=1;i.WriteShort(h),r(1==i.Size(),"assert 27"),r("01"==i.toString(),"assert 28"),r(h==i.ReadShort(),"assert 29"),r(i.ReadIndex==i.WriteIndex,"assert 30"),h=128,i.WriteShort(h),r(2==i.Size(),"assert 31"),r("80-80"==i.toString(),"assert 32"),r(h==i.ReadShort(),"assert 33"),r(i.ReadIndex==i.WriteIndex,"assert 34"),h=16384,i.WriteShort(h),r(3==i.Size(),"assert 35"),r("FF-40-00"==i.toString(),"assert 36"),r(h==i.ReadShort(),"assert 37"),r(i.ReadIndex==i.WriteIndex,"assert 38"),h=-1,i.WriteShort(h),r(3==i.Size(),"assert 39"),r("FF-FF-FF"==i.toString(),"assert 40"),r(h==i.ReadShort(),"assert 41"),r(i.ReadIndex==i.WriteIndex,"assert 42"),r((i=new e.ByteBuffer).ReadIndex==i.WriteIndex,"assert 43"),i.WriteInt4(4660),r(4==i.Size(),"assert 44"),r("34-12-00-00"==i.toString(),"assert 45"),r(4660==i.ReadInt4(),"assert 46"),r(i.ReadIndex==i.WriteIndex,"assert 47"),r((i=new e.ByteBuffer).ReadIndex==i.WriteIndex,"assert 48");var d=new(s())(22136,4660,!0);i.WriteLong8(d),r(8==i.Size(),"assert 49"),r("78-56-00-00-34-12-00-00"==i.toString(),"assert 50"),r(d.equals(i.ReadLong8()),"assert 51"),r(i.ReadIndex==i.WriteIndex,"assert 52"),r((i=new e.ByteBuffer).ReadIndex==i.WriteIndex,"assert 53");var a=1;i.WriteInt(a),r(1==i.Size(),"assert 54"),r("01"==i.toString(),"assert 55"),r(a==i.ReadInt(),"assert 56"),r(i.ReadIndex==i.WriteIndex,"assert 57"),a=128,i.WriteInt(a),r(2==i.Size(),"assert 58"),r("80-80"==i.toString(),"assert 59"),r(a==i.ReadInt(),"assert 60"),r(i.ReadIndex==i.WriteIndex,"assert 61"),a=16384,i.WriteInt(a),r(3==i.Size(),"assert 62"),r("C0-40-00"==i.toString(),"assert 63"),r(a==i.ReadInt(),"assert 64"),r(i.ReadIndex==i.WriteIndex,"assert 65"),a=2097152,i.WriteInt(a),r(4==i.Size(),"assert 66"),r("E0-20-00-00"==i.toString(),"assert 67"),r(a==i.ReadInt(),"assert 68"),r(i.ReadIndex==i.WriteIndex,"assert 69"),a=268435456,i.WriteInt(a),r(5==i.Size(),"assert 70"),r("F0-10-00-00-00"==i.toString(),"assert 71"),r(a==i.ReadInt(),"assert 72"),r(i.ReadIndex==i.WriteIndex,"assert 73"),a=-1,i.WriteInt(a),r(5==i.Size(),"assert 74"),r("F0-FF-FF-FF-FF"==i.toString(),"assert 75"),r(a==i.ReadInt(),"assert 76"),r(i.ReadIndex==i.WriteIndex,"assert 77"),r((i=new e.ByteBuffer).ReadIndex==i.WriteIndex,"assert 78");var o=new(s())(1,0,!0);return i.WriteLong(o),r(1==i.Size(),"assert 79"),r("01"==i.toString(),"assert 80"),r(o.eq(i.ReadLong()),"assert 81"),r(i.ReadIndex==i.WriteIndex,"assert 82"),o=new(s())(128,0,!0),i.WriteLong(o),r(2==i.Size(),"assert 83"),r("80-80"==i.toString(),"assert 84"),r(o.eq(i.ReadLong()),"assert 85"),r(i.ReadIndex==i.WriteIndex,"assert 86"),o=new(s())(16384,0,!0),i.WriteLong(o),r(3==i.Size(),"assert 87"),r("C0-40-00"==i.toString(),"assert 88"),r(o.eq(i.ReadLong()),"assert 89"),r(i.ReadIndex==i.WriteIndex,"assert 90"),o=new(s())(2097152,0,!0),i.WriteLong(o),r(4==i.Size(),"assert 91"),r("E0-20-00-00"==i.toString(),"assert 92"),r(o.eq(i.ReadLong()),"assert 93"),r(i.ReadIndex==i.WriteIndex,"assert 94"),o=new(s())(268435456,0,!0),i.WriteLong(o),r(5==i.Size(),"assert 95"),r("F0-10-00-00-00"==i.toString(),"assert 96"),r(o.eq(i.ReadLong()),"assert 97"),r(i.ReadIndex==i.WriteIndex,"assert 98"),o=new(s())(0,8,!0),i.WriteLong(o),r(6==i.Size(),"assert 99"),r("F8-08-00-00-00-00"==i.toString(),"assert 100"),r(o.eq(i.ReadLong()),"assert 101"),r(i.ReadIndex==i.WriteIndex,"assert 102"),o=new(s())(0,1024,!0),i.WriteLong(o),r(7==i.Size(),"assert 103"),r("FC-04-00-00-00-00-00"==i.toString(),"assert 104"),r(o.eq(i.ReadLong()),"assert 105"),r(i.ReadIndex==i.WriteIndex,"assert 106"),o=new(s())(0,8192,!0),i.WriteLong(o),r(8==i.Size(),"assert 107"),r("FE-00-20-00-00-00-00-00"==i.toString(),"assert 108"),r(o.eq(i.ReadLong()),"assert 109"),r(i.ReadIndex==i.WriteIndex,"assert 110"),o=new(s())(0,16777216,!0),i.WriteLong(o),r(9==i.Size(),"assert 111"),r("FF-01-00-00-00-00-00-00-00"==i.toString(),"assert 112"),r(o.eq(i.ReadLong()),"assert 113"),r(i.ReadIndex==i.WriteIndex,"assert 114"),o=new(s())(-1,0,!0),i.WriteLong(o),r(5==i.Size(),"assert 115"),r("F0-FF-FF-FF-FF"==i.toString(),"assert 116"),r(o.eq(i.ReadLong()),"assert 117"),r(i.ReadIndex==i.WriteIndex,"assert 118"),o=new(s())(-1,-1,!0),i.WriteLong(o),r(9==i.Size(),"assert 119"),r("FF-FF-FF-FF-FF-FF-FF-FF-FF"==i.toString(),"assert 120"),r(o.eq(i.ReadLong()),"assert 121"),r(i.ReadIndex==i.WriteIndex,"assert 122"),"ok"}})()})();