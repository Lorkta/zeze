可重用游戏地图模块
	参考流行的某个游戏，基本实现它的主要可重用特征。
	新游戏可以直接在这个基础上进行开发，降低开发成本。

一、地图模块MMO类开发目标
【服务器功能列表】
0. 多线程逻辑运算；尽可能不对任意游戏的地图交互逻辑运算的实现造成障碍；
1. 移动同步实现一个（参考魔兽世界）
2. Aoi “9”宫格视野同步，支持2d，3d切割。
   a) AoiSimple基本版本；
   b) AoiStable解决玩家在切割线上来回穿越造成”9“宫格通知不断进入离开的问题。（TODO）
   *) 玩家扎堆时，Aoi广播量可能需要保护。降低或丢弃视野内的移动同步。
      尽量提高Aoi能支持的同屏在线。由于同屏在线一般性能在客户端，所以这个对于服务器可能不是问题。（TODO）
   *) 玩家扎堆时，按一定规则限制玩家的可见列表。这个需求把问题复杂化了。仅供考虑。
3. 服务器寻路
   主要目标用于AI寻路；建议客户端自己寻路；如果玩家寻路也要在服务器计算，可能需要提供不一样的寻路版本。
   a) 体素寻路（TODO）
   b) NavMesh寻路（TODO）
   *) 上面的寻路是场景变化不会影响寻路的。对于动态寻路已知也有人做过。如果能达到这个目标那就更好了。（TODO）
4. 视野同步还有技能，换装等任何需要在大世界里面表现的操作
    a) 对于时序不敏感的，只要最终数据同步能到客户端即可。这个由Aoi实现数据同步。比如换装。
    b) 技能有一定时效性，需要评估抽象并提供一定支持。（TODO）
5. 作弊检查思路
    a) 直接嵌入计算流程，即时的做出判断。一般是移动的太快，或者技能发送的太快。
        建议分为两级：达到怀疑级别，把这个玩家提交给进行更高级的作弊检查；达到限制级，马上惩罚。
        对于移动的惩罚例子如拉回原位。（TODO）
        嵌入作弊判断，可以在某些处理关键点提供回调实现自定义。（TODO）
    b) 进程内的其他线程的稍微慢速，但更完备的检查。
    c) 其他进程服务。比如直接运行几个unity，用来做完备的3d场景场景作弊检查。

*. 附录-路同学提供的看法
我大致看了一下, 主要分这四部分, 都是MMO基本都要用到的:
状态同步 (难点在网络延迟大时的补偿)
AOI (难点在限制广播量)
碰撞检测(多面体 or 体素)
寻路(导航网格 or 体素)
我上个项目做过战斗的状态同步, 挺大的坑, 跟客户端反复想调优策略, 网络延迟属于没有完美解决方案的不利条件, 可能需要根据不同的玩法场合做不同的细节设计.
上个项目的碰撞检测是凸包多面体+四叉树, 从完美老项目C++移植到Java, 代码量不大, 优化后基本跟C++性能差不多了, 这个难度最低.
上个项目的寻路是导航网格, 用的是最常用的recastnavigation开源项目, Unity和UE内置的寻路好像都是从这个魔改来的. Java用JNI封装调用. 
难点是动态修改(上个项目做过), 这个坑也挺大, 对于动态变化非常频繁的, 也许可以考虑直接用体素.
AOI简单写一个不难, 难点是玩家密集时的处理, 要避免大量广播. 通常的做法是每个玩家有个可见集合, 但要做好这个也不简单, 
通常需要考虑可见性需要互相的, 可见数量要保持动态均衡, 可见人数少了要补上, 多了要剔除, 而且可见性还要考虑优先级.

【客户端模块的功能列表】
1级 是否可以封装成依赖Unity的库？
   把数据全部管理起来。比如，角色动作外面提供装载接口，处理完全封装。提供最高级的封装，最小化接口。
   真正的游戏应用仅需要提供资源。
   发布的时候是一个LIB项目，游戏依赖即可。
2级 抽象出Unity接口，客户端模块主要包含逻辑算法，真正的游戏应用实现接口，通过接口交互。
   发布的时候是一个LIB项目，游戏依赖即可。
3级 不尝试进行封装，仅提供一个Demo。
   发布是游戏自己拷贝需要的代码出去，或者参考以后自己新写。

【服务器主要思路】
1. 多线程
   任何地图服务器的计算数据都限定在一定范围内（不超过视野）。
   Aoi对地图进行了切割，切割单位为Cube（2d一般叫Grid，这里统一了）。
   计算开始的时候找到相关的所有Cube，排序加锁，然后安全的访问Cube内的数据。
   不死锁，也不会发生重做。

2. MMO非严格大世界状态同步。
    命令式位置同步。
    a) 客户端移动操作，本地立即移动，操作命令立即发送给服务器进行广播。
    b) 客户端持续前进时，定时补充新的移动命令，(如，默认200ms)。
    c) 允许第三方看到目标移动存在一定延迟。
    d) 第三方在收到新的移动命令本地先预测移动一段时间（ping来回？或者固定300ms？）。
    e) 服务器位置也按第三方方式进行更新，服务器位置用于逻辑运算（比如技能范围）。
        维护 MovingList，避免Update站立不动的对象？
        更新频率根据需求可高可低，更新频率不同场景副本可以不一样。

二、moba

三、fps

