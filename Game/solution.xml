<?xml version="1.0" encoding="utf-8"?>

<solution name="Game" ModuleIdAllowRanges="1-100,101">
	<module name="Bag" id="1">
		<bean name="BItem">
			<variable id="1" name="Id" type="int"/>
			<variable id="2" name="Type" type="int"/>
			<variable id="3" name="Number" type="int"/>
			<variable id="4" name="Extrakey" type="long"/>
		</bean>
		<bean name="BBag">
			<variable id="1" name="Money" type="long"/>
			<variable id="2" name="Capacity" type="int"/>
			<variable id="3" name="Items" type="map" key="int" value="BItem"/> key is position
		</bean>
		<table name="tbag" key="long" value="BBag"/>

		<bean name="BMove">
			<variable id="1" name="PositionFrom" type="int"/>
			<variable id="2" name="PositionTo" type="int"/>
			<variable id="3" name="number" type="int"/> -1 表示全部
		</bean>
		<bean name="BDestroy">
			<variable id="1" name="Position" type="int"/>
		</bean>
		<bean name="BResult">
			<variable id="1" name="ItemsReplace" type="map" key="int" value="BItem"/> key is position
			<variable id="2" name="ItemsRemove" type="set" value="int"/> key is position
		</bean>

		<protocol name="CMove" id="1" argument="BMove" handle="server"/>
		<protocol name="CDestroy" id="2" argument="BDestroy" handle="server"/>
		<protocol name="CSort" id="3" handle="server"/>
		<protocol name="SChanged" id="4" argument="BResult" handle="client"/>
	</module>

	<module name="Item" id="2">
	</module>

	<module name="Fight" id="3">
	</module>

	<module name="Buf" id="4">
	</module>

	<module name="Equip" id="5">
		<table name="tequip" key="long" value="Game.Bag.BItem"/>
	</module>

	<!--
	name 项目名字
	gendir 代码生成输出目录，默认是当前目录
	GenTables 选择生成哪些表格（Table），如果为空，那就生成那些没有配置gen属性的table，可以用','分开指定多个名字
	-->
	<project name="server" gendir="." platform="cs" GenTables="">
		<!--
		这里引用的模块不该定义协议，定义了也不会被生成，一般为纯逻辑或者数据库模块。
		<module ref="CommonModule"/>
		-->
		<!-- service 生成到 solution 名字空间下 -->
		<service name="Server" handle="server" base="">
			<module ref="Bag"/>
		</service>
	</project>

	<project name="client" gendir="." platform="cs" GenTables="client">
		<service name="Client" handle="client">
			<module ref="Bag"/>
		</service>
	</project>

</solution>
